{
   "library" : {
      "identifier" : {
         "id" : "Anthrax_Post_Exposure_Prophylaxis_Adults_FHIRv400",
         "version" : "1.1.0"
      },
      "schemaIdentifier" : {
         "id" : "urn:hl7-org:elm",
         "version" : "r1"
      },
      "usings" : {
         "def" : [ {
            "localIdentifier" : "System",
            "uri" : "urn:hl7-org:elm-types:r1"
         }, {
            "localIdentifier" : "FHIR",
            "uri" : "http://hl7.org/fhir",
            "version" : "4.0.0"
         } ]
      },
      "includes" : {
         "def" : [ {
            "localIdentifier" : "C3F",
            "path" : "CDS_Connect_Commons_for_FHIRv400",
            "version" : "1.3.2"
         }, {
            "localIdentifier" : "FHIRHelpers",
            "path" : "FHIRHelpers",
            "version" : "4.0.0"
         }, {
            "localIdentifier" : "CCL",
            "path" : "CDC_Common_Logic_FHIRv400",
            "version" : "1.0.0"
         } ]
      },
      "parameters" : {
         "def" : [ {
            "name" : "Exposure_Look_Back_Period",
            "accessLevel" : "Public",
            "default" : {
               "value" : 60,
               "unit" : "days",
               "type" : "Quantity"
            }
         }, {
            "name" : "Spacing_Between_Vaccine_Doses",
            "accessLevel" : "Public",
            "default" : {
               "value" : 2,
               "unit" : "weeks",
               "type" : "Quantity"
            }
         } ]
      },
      "codeSystems" : {
         "def" : [ {
            "name" : "LOINC",
            "id" : "http://loinc.org",
            "accessLevel" : "Public"
         }, {
            "name" : "SNOMED-CT",
            "id" : "http://snomed.info/sct",
            "accessLevel" : "Public"
         }, {
            "name" : "ICD-10-CM",
            "id" : "http://hl7.org/fhir/sid/icd-10-cm",
            "accessLevel" : "Public"
         }, {
            "name" : "RXNORM",
            "id" : "http://www.nlm.nih.gov/research/umls/rxnorm",
            "accessLevel" : "Public"
         }, {
            "name" : "ACTCODE",
            "id" : "http://terminology.hl7.org/CodeSystem/v3-ActCode",
            "accessLevel" : "Public"
         }, {
            "name" : "CVX",
            "id" : "http://hl7.org/fhir/sid/cvx",
            "accessLevel" : "Public"
         }, {
            "name" : "FHIR-ACTION-TYPE",
            "id" : "http://terminology.hl7.org/CodeSystem/action-type",
            "accessLevel" : "Public"
         }, {
            "name" : "FHIR-PLANDEFINITION-TYPE",
            "id" : "http://terminology.hl7.org/CodeSystem/plan-definition-type",
            "accessLevel" : "Public"
         }, {
            "name" : "FHIR-USAGE-CONTEXT-TYPE",
            "id" : "http://terminology.hl7.org/CodeSystem/usage-context-type",
            "accessLevel" : "Public"
         }, {
            "name" : "ISO-3166-COUNTRY-CODES",
            "id" : "urn:iso:std:iso:3166",
            "accessLevel" : "Public"
         } ]
      },
      "valueSets" : {
         "def" : [ {
            "name" : "Ciprofloxacin medications",
            "id" : "2.16.840.1.113762.1.4.1032.67",
            "accessLevel" : "Public"
         }, {
            "name" : "Doxycycline medications",
            "id" : "2.16.840.1.113762.1.4.1032.66",
            "accessLevel" : "Public"
         }, {
            "name" : "Levofloxacin medications",
            "id" : "2.16.840.1.113762.1.4.1032.69",
            "accessLevel" : "Public"
         }, {
            "name" : "Moxifloxacin medications",
            "id" : "2.16.840.1.113762.1.4.1032.70",
            "accessLevel" : "Public"
         }, {
            "name" : "Clindamycin medications",
            "id" : "2.16.840.1.113762.1.4.1032.68",
            "accessLevel" : "Public"
         }, {
            "name" : "Latex",
            "id" : "2.16.840.1.113762.1.4.1032.76",
            "accessLevel" : "Public"
         }, {
            "name" : "Pregnancy",
            "id" : "2.16.840.1.113883.3.526.3.378",
            "accessLevel" : "Public"
         } ]
      },
      "codes" : {
         "def" : [ {
            "name" : "Exposure to Anthrax code",
            "id" : "Z20.810",
            "display" : "Exposure to Anthrax",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ICD-10-CM"
            }
         }, {
            "name" : "Exposure to Bacillus anthracis (event) code",
            "id" : "170475009",
            "display" : "Exposure to Bacillus anthracis (event)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Asymptomatic code",
            "id" : "84387000",
            "display" : "Asymptomatic (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Pregnancy status code",
            "id" : "82810-3",
            "display" : "Pregnancy status",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "LOINC"
            }
         }, {
            "name" : "Pregnant code",
            "id" : "77386006",
            "display" : "Patient currently pregnant (finding)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Anthrax vaccination code",
            "id" : "49598002",
            "display" : "Anthrax vaccination (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "First anthrax vaccination code",
            "id" : "170338000",
            "display" : "First anthrax vaccination (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Second anthrax vaccination code",
            "id" : "170339008",
            "display" : "Second anthrax vaccination (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Third anthrax vaccination code",
            "id" : "170340005",
            "display" : "Third anthrax vaccination (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Fourth anthrax vaccination code",
            "id" : "170341009",
            "display" : "Fourth anthrax vaccination (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Ciprofloxacin Rx code",
            "id" : "309309",
            "display" : "Ciprofloxacin 500 MG Oral Tablet",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Doxycycline Rx code",
            "id" : "1650143",
            "display" : "doxycycline hyclate 100 MG Oral Tablet",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Levofloxacin Rx code",
            "id" : "311296",
            "display" : "Levofloxacin 750 MG Oral Tablet",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Moxifloxacin Rx code",
            "id" : "311787",
            "display" : "moxifloxacin HCl 400 MG Oral Tablet",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Clindamycin Rx code",
            "id" : "284215",
            "display" : "clindamycin HCl 300 MG Oral Capsule",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Ciprofloxacin substance code",
            "id" : "2551",
            "display" : "Ciprofloxacin (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Doxycycline substance code",
            "id" : "3640",
            "display" : "Doxycycline (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Levofloxacin substance code",
            "id" : "82122",
            "display" : "Levofloxacin (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Moxifloxacin substance code",
            "id" : "139462",
            "display" : "Moxifloxacin (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Clindamycin substance code",
            "id" : "2582",
            "display" : "Clindamycin (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Latex substance code",
            "id" : "1314891",
            "display" : "Latex (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Anthrax vaccine substance code",
            "id" : "404774",
            "display" : "Anthrax Vaccine Absorbed (substance/ingredient)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "RXNORM"
            }
         }, {
            "name" : "Anthrax vaccine CVX code",
            "id" : "24",
            "display" : "Anthrax vaccine",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "CVX"
            }
         }, {
            "name" : "Device code",
            "id" : "701002007",
            "display" : "Clinical data collection/management information system application software (physical object)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Document signs and symptoms code",
            "id" : "223447008",
            "display" : "Recommendation to document signs and symptoms (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Medication review code",
            "id" : "314529007",
            "display" : "Medication review due (situation)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Not equivalent alert code",
            "id" : "NOTEQUIV",
            "display" : "Not equivalent alert",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ACTCODE"
            }
         }, {
            "name" : "Timing detected issue code",
            "id" : "TIME",
            "display" : "Timing detected issue",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ACTCODE"
            }
         }, {
            "name" : "Verify allergy status code",
            "id" : "370860007",
            "display" : "Verification of allergy status (procedure)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "FHIR ActionType create code",
            "id" : "create",
            "display" : "Create",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-ACTION-TYPE"
            }
         }, {
            "name" : "FHIR PlanDefinition eca-rule code",
            "id" : "eca-rule",
            "display" : "ECA Rule",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-PLANDEFINITION-TYPE"
            }
         }, {
            "name" : "FHIR PlanDefinition order-set code",
            "id" : "order-set",
            "display" : "Order Set",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-PLANDEFINITION-TYPE"
            }
         }, {
            "name" : "FHIR age range usage context code",
            "id" : "age",
            "display" : "Age Range",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-USAGE-CONTEXT-TYPE"
            }
         }, {
            "name" : "FHIR clinical focus usage context code",
            "id" : "focus",
            "display" : "Clinical Focus",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-USAGE-CONTEXT-TYPE"
            }
         }, {
            "name" : "FHIR clinical venue usage context code",
            "id" : "venue",
            "display" : "Clinical Venue",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "FHIR-USAGE-CONTEXT-TYPE"
            }
         }, {
            "name" : "SNOMED outpatient code",
            "id" : "440655000",
            "display" : "Outpatient environment",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "United States code",
            "id" : "US",
            "display" : "United States of America",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "ISO-3166-COUNTRY-CODES"
            }
         }, {
            "name" : "Oral route code",
            "id" : "26643006",
            "display" : "Oral Route",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Swallow dosing instruction code",
            "id" : "421521009",
            "display" : "Swallow - dosing instruction imperative (qualifier value)",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         }, {
            "name" : "Subcutaneous route code",
            "id" : "34206005",
            "display" : "Subcutaneous route",
            "accessLevel" : "Public",
            "codeSystem" : {
               "name" : "SNOMED-CT"
            }
         } ]
      },
      "concepts" : {
         "def" : [ {
            "name" : "Anthrax exposure",
            "display" : "Anthrax exposure",
            "accessLevel" : "Public",
            "code" : [ {
               "name" : "Exposure to Anthrax code"
            }, {
               "name" : "Exposure to Bacillus anthracis (event) code"
            } ]
         }, {
            "name" : "AsymptomaticConcept",
            "display" : "Asymptomatic",
            "accessLevel" : "Public",
            "code" : [ {
               "name" : "Asymptomatic code"
            } ]
         }, {
            "name" : "Anthrax vaccine",
            "display" : "Anthrax vaccine",
            "accessLevel" : "Public",
            "code" : [ {
               "name" : "Anthrax vaccine substance code"
            }, {
               "name" : "Anthrax vaccine CVX code"
            } ]
         }, {
            "name" : "Pregnancy status",
            "display" : "Pregnancy status",
            "accessLevel" : "Public",
            "code" : [ {
               "name" : "Pregnancy status code"
            } ]
         }, {
            "name" : "Pregnant",
            "display" : "Patient currently pregnant (finding)",
            "accessLevel" : "Public",
            "code" : [ {
               "name" : "Pregnant code"
            } ]
         } ]
      },
      "statements" : {
         "def" : [ {
            "name" : "Patient",
            "context" : "Patient",
            "expression" : {
               "type" : "SingletonFrom",
               "operand" : {
                  "dataType" : "{http://hl7.org/fhir}Patient",
                  "type" : "Retrieve"
               }
            }
         }, {
            "name" : "CqlVersion",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "1.1.0",
               "type" : "Literal"
            }
         }, {
            "name" : "Is18orOlder",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "GreaterOrEqual",
               "operand" : [ {
                  "precision" : "Year",
                  "type" : "CalculateAge",
                  "operand" : {
                     "path" : "birthDate.value",
                     "type" : "Property",
                     "source" : {
                        "name" : "Patient",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "value" : "18",
                  "type" : "Literal"
               } ]
            }
         }, {
            "name" : "RecentAnthraxExposureConditions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Confirmed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ConditionLookBack",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "ActiveOrRecurring",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "dataType" : "{http://hl7.org/fhir}Condition",
                        "codeProperty" : "code",
                        "type" : "Retrieve",
                        "codes" : {
                           "type" : "ToList",
                           "operand" : {
                              "name" : "Anthrax exposure",
                              "type" : "ConceptRef"
                           }
                        }
                     } ]
                  }, {
                     "name" : "Exposure_Look_Back_Period",
                     "type" : "ParameterRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentAnthraxExposureCondition",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "C",
                  "expression" : {
                     "name" : "MostRecentCondition",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "RecentAnthraxExposureConditions",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Condition",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "C",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "Date",
                        "value" : {
                           "name" : "FindConditionDate",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "C",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "RecentAnthraxExposureObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Verified",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ObservationLookBack",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "dataType" : "{http://hl7.org/fhir}Observation",
                     "codeProperty" : "code",
                     "type" : "Retrieve",
                     "codes" : {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "Anthrax exposure",
                           "type" : "ConceptRef"
                        }
                     }
                  }, {
                     "name" : "Exposure_Look_Back_Period",
                     "type" : "ParameterRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentAnthraxExposureObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "O",
                  "expression" : {
                     "name" : "MostRecent",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "RecentAnthraxExposureObservations",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Observation",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "O",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "Date",
                        "value" : {
                           "name" : "FindDate",
                           "libraryName" : "C3F",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "O",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "RecentAnthraxExposureResources",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "L",
                  "expression" : {
                     "type" : "Union",
                     "operand" : [ {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "MostRecentAnthraxExposureCondition",
                           "type" : "ExpressionRef"
                        }
                     }, {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "MostRecentAnthraxExposureObservation",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "where" : {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "path" : "Date",
                        "scope" : "L",
                        "type" : "Property"
                     }
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "Date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "RecentlyExposedToAnthrax",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "RecentAnthraxExposureResources",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "MostRecentAnthraxExposureResource",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Coalesce",
               "operand" : [ {
                  "name" : "RecentAnthraxExposureResources",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentAnthraxExposureDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "path" : "Date",
               "type" : "Property",
               "source" : {
                  "name" : "MostRecentAnthraxExposureResource",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "RecentAsymptomaticObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Verified",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ObservationLookBack",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "dataType" : "{http://hl7.org/fhir}Observation",
                     "codeProperty" : "code",
                     "type" : "Retrieve",
                     "codes" : {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "AsymptomaticConcept",
                           "type" : "ConceptRef"
                        }
                     }
                  }, {
                     "name" : "Exposure_Look_Back_Period",
                     "type" : "ParameterRef"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentAsymptomaticObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "MostRecent",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "RecentAsymptomaticObservations",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentAsymptomaticObservationDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "FindDate",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentAsymptomaticObservation",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "Asymptomatic",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "Not",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "MostRecentAsymptomaticObservationDate",
                        "type" : "ExpressionRef"
                     }
                  }
               }, {
                  "precision" : "Day",
                  "type" : "SameOrAfter",
                  "operand" : [ {
                     "name" : "MostRecentAsymptomaticObservationDate",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "MostRecentAnthraxExposureDate",
                     "type" : "ExpressionRef"
                  } ]
               } ]
            }
         }, {
            "name" : "PregnancyConditions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Confirmed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ConditionLookBack",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "ActiveOrRecurring",
                     "libraryName" : "C3F",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "dataType" : "{http://hl7.org/fhir}Condition",
                        "codeProperty" : "code",
                        "type" : "Retrieve",
                        "codes" : {
                           "name" : "Pregnancy",
                           "type" : "ValueSetRef"
                        }
                     } ]
                  }, {
                     "value" : 42,
                     "unit" : "weeks",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "PregnancyObservations",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Verified",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "ObservationLookBack",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "dataType" : "{http://hl7.org/fhir}Observation",
                     "codeProperty" : "code",
                     "type" : "Retrieve",
                     "codes" : {
                        "type" : "ToList",
                        "operand" : {
                           "name" : "Pregnancy status",
                           "type" : "ConceptRef"
                        }
                     }
                  }, {
                     "value" : 42,
                     "unit" : "weeks",
                     "type" : "Quantity"
                  } ]
               } ]
            }
         }, {
            "name" : "MostRecentPregnancyObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "MostRecent",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "PregnancyObservations",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "MostRecentPregnancyObservationIsPositive",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Equivalent",
               "operand" : [ {
                  "name" : "ConceptValue",
                  "libraryName" : "C3F",
                  "type" : "FunctionRef",
                  "operand" : [ {
                     "name" : "MostRecentPregnancyObservation",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "Pregnant",
                  "type" : "ConceptRef"
               } ]
            }
         }, {
            "name" : "IsPregnant",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "PregnancyConditions",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "MostRecentPregnancyObservationIsPositive",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ActiveCiprofloxacinRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationRequest",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationRequest",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Ciprofloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveDoxycyclineRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationRequest",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationRequest",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Doxycycline medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveLevofloxacinRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationRequest",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationRequest",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Levofloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveMoxifloxacinRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationRequest",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationRequest",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Moxifloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveClindamycinRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationRequest",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationRequest",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Clindamycin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveAntimicrobialMedicationRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "Union",
                  "operand" : [ {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "ActiveCiprofloxacinRequests",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ActiveDoxycyclineRequests",
                        "type" : "ExpressionRef"
                     } ]
                  }, {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "ActiveLevofloxacinRequests",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ActiveMoxifloxacinRequests",
                        "type" : "ExpressionRef"
                     } ]
                  } ]
               }, {
                  "name" : "ActiveClindamycinRequests",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ActiveCiprofloxacinStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationStatement",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationStatement",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Ciprofloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveDoxycyclineStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationStatement",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationStatement",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Doxycycline medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveLevofloxacinStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationStatement",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationStatement",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Levofloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveMoxifloxacinStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationStatement",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationStatement",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Moxifloxacin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveClindamycinStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ActiveMedicationStatement",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}MedicationStatement",
                  "codeProperty" : "medication",
                  "type" : "Retrieve",
                  "codes" : {
                     "name" : "Clindamycin medications",
                     "type" : "ValueSetRef"
                  }
               } ]
            }
         }, {
            "name" : "ActiveAntimicrobialMedicationStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "Union",
                  "operand" : [ {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "ActiveCiprofloxacinStatements",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ActiveDoxycyclineStatements",
                        "type" : "ExpressionRef"
                     } ]
                  }, {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "ActiveLevofloxacinStatements",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ActiveMoxifloxacinStatements",
                        "type" : "ExpressionRef"
                     } ]
                  } ]
               }, {
                  "name" : "ActiveClindamycinStatements",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "HasCiprofloxacinRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveCiprofloxacinRequests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveCiprofloxacinStatements",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasDoxycyclineRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveDoxycyclineRequests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveDoxycyclineStatements",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasLevofloxacinRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveLevofloxacinRequests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveLevofloxacinStatements",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasMoxifloxacinRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveMoxifloxacinRequests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveMoxifloxacinStatements",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "HasClindamycinRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Or",
               "operand" : [ {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveClindamycinRequests",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "Exists",
                  "operand" : {
                     "name" : "ActiveClindamycinStatements",
                     "type" : "ExpressionRef"
                  }
               } ]
            }
         }, {
            "name" : "FormattedAntimicrobialMedicationRequests",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "O",
                  "expression" : {
                     "name" : "ActiveAntimicrobialMedicationRequests",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "MedicationRequest",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "O",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "Date",
                        "value" : {
                           "name" : "DateTimeText",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "authoredOn",
                              "scope" : "O",
                              "type" : "Property"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "Date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "FormattedAntimicrobialMedicationStatements",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "S",
                  "expression" : {
                     "name" : "ActiveAntimicrobialMedicationStatements",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "MedicationStatement",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "S",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "Date",
                        "value" : {
                           "name" : "MedicationStatementDate",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "name" : "S",
                              "type" : "AliasRef"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "Date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "FormattedAntimicrobialMedicationResources",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "M",
                  "expression" : {
                     "type" : "Union",
                     "operand" : [ {
                        "name" : "FormattedAntimicrobialMedicationRequests",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "FormattedAntimicrobialMedicationStatements",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "Date",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "HasExistingAntimicrobialRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "FormattedAntimicrobialMedicationResources",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "ProceduresForFirstVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Completed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}Procedure",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "First anthrax vaccination code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "ProceduresForSecondVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Completed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}Procedure",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Second anthrax vaccination code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "ProceduresForThirdVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Completed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}Procedure",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Third anthrax vaccination code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "ProceduresForFourthVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "Completed",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}Procedure",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Fourth anthrax vaccination code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "HasFirstVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "ProceduresForFirstVaccineDose",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasSecondVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "ProceduresForSecondVaccineDose",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasThirdVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "ProceduresForThirdVaccineDose",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasFourthVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "ProceduresForFourthVaccineDose",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "NextVaccineDoseNumber",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "HasFirstVaccineDose",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "HasSecondVaccineDose",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "HasThirdVaccineDose",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasFourthVaccineDose",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "1",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "HasFirstVaccineDose",
                              "type" : "ExpressionRef"
                           }, {
                              "type" : "Not",
                              "operand" : {
                                 "name" : "HasSecondVaccineDose",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "HasThirdVaccineDose",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasFourthVaccineDose",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "2",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "HasFirstVaccineDose",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "HasSecondVaccineDose",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Not",
                           "operand" : {
                              "name" : "HasThirdVaccineDose",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "HasFourthVaccineDose",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                     "value" : "3",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Integer",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "MostRecentVaccineProcedure",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "name" : "HasFourthVaccineDose",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "name" : "MostRecentProcedure",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ProceduresForFourthVaccineDose",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "when" : {
                     "name" : "HasThirdVaccineDose",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "name" : "MostRecentProcedure",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ProceduresForThirdVaccineDose",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "when" : {
                     "name" : "HasSecondVaccineDose",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "name" : "MostRecentProcedure",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ProceduresForSecondVaccineDose",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "when" : {
                     "name" : "HasFirstVaccineDose",
                     "type" : "ExpressionRef"
                  },
                  "then" : {
                     "name" : "MostRecentProcedure",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "name" : "ProceduresForFirstVaccineDose",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "else" : {
                  "asType" : "{http://hl7.org/fhir}Procedure",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "DateOfLastVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "FindProcedureDate",
               "libraryName" : "CCL",
               "type" : "FunctionRef",
               "operand" : [ {
                  "name" : "MostRecentVaccineProcedure",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "ReadyForNextVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "DateOfLastVaccineDose",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "NextVaccineDoseNumber",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "type" : "Not",
                           "operand" : {
                              "type" : "IsNull",
                              "operand" : {
                                 "name" : "Spacing_Between_Vaccine_Doses",
                                 "type" : "ParameterRef"
                              }
                           }
                        }
                     },
                     "then" : {
                        "type" : "If",
                        "condition" : {
                           "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "As",
                           "operand" : {
                              "type" : "And",
                              "operand" : [ {
                                 "type" : "In",
                                 "operand" : [ {
                                    "name" : "NextVaccineDoseNumber",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "List",
                                    "element" : [ {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "2",
                                       "type" : "Literal"
                                    }, {
                                       "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "value" : "3",
                                       "type" : "Literal"
                                    } ]
                                 } ]
                              }, {
                                 "precision" : "Day",
                                 "type" : "SameOrBefore",
                                 "operand" : [ {
                                    "name" : "DateOfLastVaccineDose",
                                    "type" : "ExpressionRef"
                                 }, {
                                    "type" : "ToDateTime",
                                    "operand" : {
                                       "type" : "Subtract",
                                       "operand" : [ {
                                          "type" : "Today"
                                       }, {
                                          "name" : "Spacing_Between_Vaccine_Doses",
                                          "type" : "ParameterRef"
                                       } ]
                                    }
                                 } ]
                              } ]
                           }
                        },
                        "then" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "value" : "true",
                           "type" : "Literal"
                        },
                        "else" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "value" : "false",
                           "type" : "Literal"
                        }
                     },
                     "else" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "false",
                        "type" : "Literal"
                     }
                  },
                  "else" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "false",
                     "type" : "Literal"
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "NextVaccineDoseNumber",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "If",
                     "condition" : {
                        "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "type" : "As",
                        "operand" : {
                           "type" : "Equal",
                           "operand" : [ {
                              "name" : "NextVaccineDoseNumber",
                              "type" : "ExpressionRef"
                           }, {
                              "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                              "value" : "1",
                              "type" : "Literal"
                           } ]
                        }
                     },
                     "then" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "true",
                        "type" : "Literal"
                     },
                     "else" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "false",
                        "type" : "Literal"
                     }
                  },
                  "else" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "false",
                     "type" : "Literal"
                  }
               }
            }
         }, {
            "name" : "LastVaccineProcedureMissingDate",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "NextVaccineDoseNumber",
                              "type" : "ExpressionRef"
                           }
                        }
                     }, {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "DateOfLastVaccineDose",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Equal",
                        "operand" : [ {
                           "name" : "NextVaccineDoseNumber",
                           "type" : "ExpressionRef"
                        }, {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "1",
                           "type" : "Literal"
                        } ]
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "false",
                     "type" : "Literal"
                  },
                  "else" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "MissingVaccineDose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "IsNull",
                     "operand" : {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "HasFirstVaccineDose",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "HasSecondVaccineDose",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "HasThirdVaccineDose",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "false",
                     "type" : "Literal"
                  },
                  "else" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "value" : "false",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "CiprofloxacinAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Ciprofloxacin substance code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "DoxycyclineAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Doxycycline substance code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "LevofloxacinAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Levofloxacin substance code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "MoxifloxacinAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Moxifloxacin substance code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "ClindamycinAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "type" : "ToConcept",
                        "operand" : {
                           "name" : "Clindamycin substance code",
                           "type" : "CodeRef"
                        }
                     }
                  }
               } ]
            }
         }, {
            "name" : "VaccineAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                  "codeProperty" : "code",
                  "type" : "Retrieve",
                  "codes" : {
                     "type" : "ToList",
                     "operand" : {
                        "name" : "Anthrax vaccine",
                        "type" : "ConceptRef"
                     }
                  }
               } ]
            }
         }, {
            "name" : "LatexAllergyIntolerances",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "name" : "ConfirmedAllergyIntolerance",
               "libraryName" : "C3F",
               "type" : "FunctionRef",
               "operand" : [ {
                  "type" : "Union",
                  "operand" : [ {
                     "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                     "codeProperty" : "code",
                     "type" : "Retrieve",
                     "codes" : {
                        "type" : "ToList",
                        "operand" : {
                           "type" : "ToConcept",
                           "operand" : {
                              "name" : "Latex substance code",
                              "type" : "CodeRef"
                           }
                        }
                     }
                  }, {
                     "dataType" : "{http://hl7.org/fhir}AllergyIntolerance",
                     "codeProperty" : "code",
                     "type" : "Retrieve",
                     "codes" : {
                        "name" : "Latex",
                        "type" : "ValueSetRef"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "AntimicrobialAllergyList",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "A",
                  "expression" : {
                     "type" : "Union",
                     "operand" : [ {
                        "type" : "Union",
                        "operand" : [ {
                           "type" : "Union",
                           "operand" : [ {
                              "name" : "CiprofloxacinAllergyIntolerances",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "DoxycyclineAllergyIntolerances",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "type" : "Union",
                           "operand" : [ {
                              "name" : "LevofloxacinAllergyIntolerances",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "MoxifloxacinAllergyIntolerances",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     }, {
                        "name" : "ClindamycinAllergyIntolerances",
                        "type" : "ExpressionRef"
                     } ]
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "AllergyIntolerance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "A",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "DateRecorded",
                        "value" : {
                           "name" : "DateTimeText",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "recordedDate",
                              "scope" : "A",
                              "type" : "Property"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "DateRecorded",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "VaccineAllergyList",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "A",
                  "expression" : {
                     "name" : "VaccineAllergyIntolerances",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "AllergyIntolerance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "A",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "DateRecorded",
                        "value" : {
                           "name" : "DateTimeText",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "recordedDate",
                              "scope" : "A",
                              "type" : "Property"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "DateRecorded",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "LatexAllergyList",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "A",
                  "expression" : {
                     "name" : "LatexAllergyIntolerances",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "Type",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "AllergyIntolerance",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "Id",
                        "value" : {
                           "path" : "value",
                           "type" : "Property",
                           "source" : {
                              "path" : "id",
                              "scope" : "A",
                              "type" : "Property"
                           }
                        }
                     }, {
                        "name" : "DateRecorded",
                        "value" : {
                           "name" : "DateTimeText",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "recordedDate",
                              "scope" : "A",
                              "type" : "Property"
                           } ]
                        }
                     } ]
                  }
               },
               "sort" : {
                  "by" : [ {
                     "direction" : "desc",
                     "path" : "DateRecorded",
                     "type" : "ByColumn"
                  } ]
               }
            }
         }, {
            "name" : "HasAntimicrobialAllergy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "AntimicrobialAllergyList",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasVaccineAllergy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "VaccineAllergyList",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "HasLatexAllergy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Exists",
               "operand" : {
                  "name" : "LatexAllergyList",
                  "type" : "ExpressionRef"
               }
            }
         }, {
            "name" : "Device",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Device",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "1",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "type",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Device code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     } ]
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400.cql",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "manufacturer",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "name" : "CqlVersion",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "FlagNoAsymptomaticObservation",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "RecentlyExposedToAnthrax",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "Is18orOlder",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Not",
                        "operand" : {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        }
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Flag",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "2",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "text",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "status",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "generated",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "div",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">If patient has signs or symptoms consistent with anthrax, conduct a full diagnostic evaluation for anthrax. Signs and symptoms of anthrax include fever, chills, headache, malaise, nausea, vomiting, diarrhea, abdominal pain, diaphoresis, anorexia, nonproductive cough, difficulty breathing, dyspnea, stridor, hypoxemia, hypotension, shock, cyanosis, chest pain, lymphadenopathy, cutaneous ulcer and black eschar. If patient has NO signs or symptoms consistent with anthrax, document “asymptomatic SNOMEDCT 84387000.</div>",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }, {
                     "name" : "subject",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Patient/",
                                 "type" : "Literal"
                              }, {
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "path" : "id",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "active",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Document signs and symptoms code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "extension",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "url",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "http://hl7.org/fhir/StructureDefinition/flag-detail",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "valueReference",
                              "value" : {
                                 "type" : "Tuple",
                                 "element" : [ {
                                    "name" : "reference",
                                    "value" : {
                                       "name" : "GenerateLocalReference",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "path" : "Type",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentAnthraxExposureResource",
                                             "type" : "ExpressionRef"
                                          }
                                       }, {
                                          "path" : "Id",
                                          "type" : "Property",
                                          "source" : {
                                             "name" : "MostRecentAnthraxExposureResource",
                                             "type" : "ExpressionRef"
                                          }
                                       } ]
                                    }
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "status",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "div",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "subject",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "extension",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "url",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "valueReference",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "reference",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ImplicatedExistingMedicationResources",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "L",
                  "expression" : {
                     "name" : "FormattedAntimicrobialMedicationResources",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "reference",
                        "value" : {
                           "name" : "GenerateLocalReference",
                           "libraryName" : "CCL",
                           "type" : "FunctionRef",
                           "operand" : [ {
                              "path" : "Type",
                              "scope" : "L",
                              "type" : "Property"
                           }, {
                              "path" : "Id",
                              "scope" : "L",
                              "type" : "Property"
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CiprofloxacinRxText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "HasCiprofloxacinRx",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Ciprofloxacin",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "rx",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Ciprofloxacin 500 mg by mouth every 12 hours for 60 days",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rx",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "DoxycyclineRxText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "HasDoxycyclineRx",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Doxycycline",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "rx",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Doxycycline 100 mg by mouth every 12 hours for 60 days",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rx",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "LevofloxacinRxText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "HasLevofloxacinRx",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Levofloxacin",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "rx",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Levofloxacin 750 mg by mouth once daily for 60 days",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rx",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "MoxifloxacinRxText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "HasMoxifloxacinRx",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Moxifloxacin",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "rx",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Moxifloxacin 400 mg by mouth once daily for 60 days",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rx",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ClindamycinRxText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "HasClindamycinRx",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Clindamycin",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "rx",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Clindamycin 600 mg by mouth every 8 hours for 60 days]",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "rx",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ExistingAntimicrobialText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Combine",
               "source" : {
                  "type" : "List",
                  "element" : [ {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "The patient has an active prescription for [",
                     "type" : "Literal"
                  }, {
                     "type" : "Combine",
                     "source" : {
                        "name" : "CullNullStrings",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "type" : "List",
                           "element" : [ {
                              "path" : "name",
                              "type" : "Property",
                              "source" : {
                                 "name" : "CiprofloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "name",
                              "type" : "Property",
                              "source" : {
                                 "name" : "DoxycyclineRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "name",
                              "type" : "Property",
                              "source" : {
                                 "name" : "LevofloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "name",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MoxifloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "name",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ClindamycinRxText",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     },
                     "separator" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : " , ",
                        "type" : "Literal"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "]. Evaluate the dosage and duration to ensure a 60-day regimen of appropriate antibiotic post-anthrax exposure: [",
                     "type" : "Literal"
                  }, {
                     "type" : "Combine",
                     "source" : {
                        "name" : "CullNullStrings",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "type" : "List",
                           "element" : [ {
                              "path" : "rx",
                              "type" : "Property",
                              "source" : {
                                 "name" : "CiprofloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "rx",
                              "type" : "Property",
                              "source" : {
                                 "name" : "DoxycyclineRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "rx",
                              "type" : "Property",
                              "source" : {
                                 "name" : "LevofloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "rx",
                              "type" : "Property",
                              "source" : {
                                 "name" : "MoxifloxacinRxText",
                                 "type" : "ExpressionRef"
                              }
                           }, {
                              "path" : "rx",
                              "type" : "Property",
                              "source" : {
                                 "name" : "ClindamycinRxText",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     },
                     "separator" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : " , ",
                        "type" : "Literal"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "].",
                     "type" : "Literal"
                  } ]
               }
            }
         }, {
            "name" : "DetectedIssueExistingAntimicrobialRx",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasExistingAntimicrobialRx",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "DetectedIssue",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "3",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "detail",
                     "value" : {
                        "name" : "ExistingAntimicrobialText",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Not equivalent alert code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "implicated",
                     "value" : {
                        "name" : "ImplicatedExistingMedicationResources",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "mitigation",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "action",
                              "value" : {
                                 "type" : "Tuple",
                                 "element" : [ {
                                    "name" : "coding",
                                    "value" : {
                                       "type" : "List",
                                       "element" : [ {
                                          "name" : "FormatCode",
                                          "libraryName" : "CCL",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "Medication review code",
                                             "type" : "CodeRef"
                                          } ]
                                       } ]
                                    }
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "preliminary",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "detail",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "implicated",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "reference",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "mitigation",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "action",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "coding",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "system",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "code",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "display",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "AntimicrobialAllergyExtensionReferences",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "L",
                  "expression" : {
                     "name" : "AntimicrobialAllergyList",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "url",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/StructureDefinition/flag-detail",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "valueReference",
                        "value" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "reference",
                              "value" : {
                                 "name" : "GenerateLocalReference",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "path" : "Type",
                                    "scope" : "L",
                                    "type" : "Property"
                                 }, {
                                    "path" : "Id",
                                    "scope" : "L",
                                    "type" : "Property"
                                 } ]
                              }
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CiprofloxacinAllergyText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "CiprofloxacinAllergyIntolerances",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "Ciprofloxacin",
                  "type" : "Literal"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "DoxycyclineAllergyText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "DoxycyclineAllergyIntolerances",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "Doxycycline",
                  "type" : "Literal"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "LevofloxacinAllergyText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "LevofloxacinAllergyIntolerances",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "Levofloxacin",
                  "type" : "Literal"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "MoxifloxacinAllergyText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "MoxifloxacinAllergyIntolerances",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "Moxifloxacin",
                  "type" : "Literal"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "ClindamycinAllergyText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Exists",
                     "operand" : {
                        "name" : "ClindamycinAllergyIntolerances",
                        "type" : "ExpressionRef"
                     }
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "Clindamycin",
                  "type" : "Literal"
               },
               "else" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}String",
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  }
               }
            }
         }, {
            "name" : "AllergyAlertText",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Combine",
               "source" : {
                  "type" : "List",
                  "element" : [ {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">Potential patient allergy to [",
                     "type" : "Literal"
                  }, {
                     "type" : "Combine",
                     "source" : {
                        "name" : "CullNullStrings",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "type" : "List",
                           "element" : [ {
                              "name" : "CiprofloxacinAllergyText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "DoxycyclineAllergyText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "LevofloxacinAllergyText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "MoxifloxacinAllergyText",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "ClindamycinAllergyText",
                              "type" : "ExpressionRef"
                           } ]
                        } ]
                     },
                     "separator" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : " , ",
                        "type" : "Literal"
                     }
                  }, {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "]. Confirm allergy status.</div>",
                     "type" : "Literal"
                  } ]
               }
            }
         }, {
            "name" : "FlagAntimicrobialMedicationAllergies",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasAntimicrobialAllergy",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Flag",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "4",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "text",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "status",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "generated",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "div",
                           "value" : {
                              "name" : "AllergyAlertText",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }
                  }, {
                     "name" : "subject",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Patient/",
                                 "type" : "Literal"
                              }, {
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "path" : "id",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "active",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Verify allergy status code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "extension",
                     "value" : {
                        "name" : "AntimicrobialAllergyExtensionReferences",
                        "type" : "ExpressionRef"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "status",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "div",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "subject",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "extension",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "url",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "valueReference",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "reference",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "VaccineAllergyExtensionReferences",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "L",
                  "expression" : {
                     "name" : "VaccineAllergyList",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "url",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/StructureDefinition/flag-detail",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "valueReference",
                        "value" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "reference",
                              "value" : {
                                 "name" : "GenerateLocalReference",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "path" : "Type",
                                    "scope" : "L",
                                    "type" : "Property"
                                 }, {
                                    "path" : "Id",
                                    "scope" : "L",
                                    "type" : "Property"
                                 } ]
                              }
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "FlagBioThraxAllergy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasVaccineAllergy",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Flag",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "5",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "text",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "status",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "generated",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "div",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">Potential patient allergy to BioThrax. Confirm allergy status.</div>",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }, {
                     "name" : "subject",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Patient/",
                                 "type" : "Literal"
                              }, {
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "path" : "id",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "active",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Verify allergy status code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "extension",
                     "value" : {
                        "name" : "VaccineAllergyExtensionReferences",
                        "type" : "ExpressionRef"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "status",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "div",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "subject",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "extension",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "url",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "valueReference",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "reference",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "LatexAllergyExtensionReferences",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Query",
               "source" : [ {
                  "alias" : "L",
                  "expression" : {
                     "name" : "LatexAllergyList",
                     "type" : "ExpressionRef"
                  }
               } ],
               "relationship" : [ ],
               "return" : {
                  "expression" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "url",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/StructureDefinition/flag-detail",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "valueReference",
                        "value" : {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "reference",
                              "value" : {
                                 "name" : "GenerateLocalReference",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "path" : "Type",
                                    "scope" : "L",
                                    "type" : "Property"
                                 }, {
                                    "path" : "Id",
                                    "scope" : "L",
                                    "type" : "Property"
                                 } ]
                              }
                           } ]
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "FlagLatexAllergy",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "HasLatexAllergy",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Flag",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "6",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "text",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "status",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "generated",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "div",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "<div xmlns=\"http://www.w3.org/1999/xhtml\">Potential patient allergy to latex. The stopper of BioThrax (anthrax vaccine) vial contains latex. Confirm allergy status.</div>",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }, {
                     "name" : "subject",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "type" : "Concatenate",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Patient/",
                                 "type" : "Literal"
                              }, {
                                 "path" : "value",
                                 "type" : "Property",
                                 "source" : {
                                    "path" : "id",
                                    "type" : "Property",
                                    "source" : {
                                       "name" : "Patient",
                                       "type" : "ExpressionRef"
                                    }
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "active",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Verify allergy status code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "extension",
                     "value" : {
                        "name" : "LatexAllergyExtensionReferences",
                        "type" : "ExpressionRef"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "text",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "status",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "div",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "subject",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "extension",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "url",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "valueReference",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "reference",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ImplicatedVaccineProcedure",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "reference",
                  "value" : {
                     "name" : "GenerateLocalReference",
                     "libraryName" : "CCL",
                     "type" : "FunctionRef",
                     "operand" : [ {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Procedure",
                        "type" : "Literal"
                     }, {
                        "path" : "value",
                        "type" : "Property",
                        "source" : {
                           "path" : "id",
                           "type" : "Property",
                           "source" : {
                              "name" : "MostRecentVaccineProcedure",
                              "type" : "ExpressionRef"
                           }
                        }
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "DetectedIssueBioThraxHistoryInconsistencies",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "type" : "Or",
                        "operand" : [ {
                           "name" : "LastVaccineProcedureMissingDate",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "MissingVaccineDose",
                           "type" : "ExpressionRef"
                        } ]
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "DetectedIssue",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "id",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "7",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "detail",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Potential BioThrax vaccine series problem(s) identified. A vaccine in the recommended series might be missing or a vaccination date might be missing. Review BioThrax vaccine series history.",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "reference",
                           "value" : {
                              "name" : "GenerateLocalReference",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Device",
                                 "type" : "Literal"
                              }, {
                                 "path" : "id",
                                 "type" : "Property",
                                 "source" : {
                                    "name" : "Device",
                                    "type" : "ExpressionRef"
                                 }
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "code",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Timing detected issue code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "implicated",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "name" : "ImplicatedVaccineProcedure",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  }, {
                     "name" : "mitigation",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "action",
                              "value" : {
                                 "type" : "Tuple",
                                 "element" : [ {
                                    "name" : "coding",
                                    "value" : {
                                       "type" : "List",
                                       "element" : [ {
                                          "name" : "FormatCode",
                                          "libraryName" : "CCL",
                                          "type" : "FunctionRef",
                                          "operand" : [ {
                                             "name" : "Medication review code",
                                             "type" : "CodeRef"
                                          } ]
                                       } ]
                                    }
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "preliminary",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "id",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "detail",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "reference",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "code",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "implicated",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "reference",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "mitigation",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "action",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "coding",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "system",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "code",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "display",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "VaccineCoding",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           }, {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "First anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           }, {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Second anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     } ]
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           }, {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Third anthrax vaccination code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     } ]
                  }
               } ],
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "coding",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "system",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "code",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "display",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "VaccineAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Pregnant women at risk for inhalation anthrax should receive the anthrax vaccine regardless of pregnancy trimester.",
                           "type" : "Literal"
                        }
                     } ]
                  }, {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Epinephrine solution (1:1000) should be available for immediate use in the event that an anaphylactic reaction occurs.",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               },
               "else" : {
                  "type" : "ToList",
                  "operand" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Epinephrine solution (1:1000) should be available for immediate use in the event that an anaphylactic reaction occurs.",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ActivityDefinitionDescription",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "In 2009, the US Advisory Committee on Immunization Practices recommended in addition to antimicrobial therapy, a 3-dose series of Anthrax Vaccine Adsorbed (AVA) BioThrax (Emergent BioSolutions Inc., Rockville, MD, USA) for long-term protection after exposure to anthrax  in individuals without any previous vaccine. After exposure to aerosolized B. anthracis spores, antimicrobial therapy should be initiated as soon as possible. Ideally, the first dose of vaccine should be administered within 10 days. ACIP recommends a post exposure regimen of 60 days of appropriate antimicrobial prophylaxis (covered previously) combined with 3 subcutaneous doses of AVA (administered at 0, 2, and 4 weeks post exposure) as the most effective protection against inhalation anthrax for previously unvaccinated persons aged ≥18 years who have been exposed to aerosolized B. anthracis spores. In general, the peak serologic response to anthrax vaccine occurs 10–14 days after the third dose. (Wright, J.G et al., Morbidity and Mortality Weekly Report, July 23, 2010 / 59(RR06); 1-30). Additionally, the Advisory Committee on Immunization Practices subsequently reviewed all safety data available as of March 2008, including the final results of a retrospective study, and concluded that AVA is safe to administer to anthrax-exposed women during pregnancy. In the setting of an anthrax event that poses a high risk for exposure to aerosolized B. anthracis spores, pregnancy is neither a precaution nor a contraindication to vaccination. Pregnant women at risk for inhalation anthrax should receive AVA and antimicrobial drug therapy regardless of pregnancy trimester (Meanye-Delman D et al., Emerg Infect Dis, 20(2), 2014).",
               "type" : "Literal"
            }
         }, {
            "name" : "ActivityDefinitionPurpose",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Provides clinicians with information for quickly assessing individuals exposed to anthrax unrelated to occupational exposure, for example in bioterrorism events, and provides the recommended post-exposure prophylaxis (PEP) regimen for asymptomatic patients. Includes immediate treatment with antimicrobials and vaccine and follow-up administration of subsequent vaccines to complete the recommended 3-dose vaccination series.",
               "type" : "Literal"
            }
         }, {
            "name" : "ActivityDefinitionUsage",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "Intended for use by clinicians caring for individuals ≥18 years of age in an outpatient setting.",
               "type" : "Literal"
            }
         }, {
            "name" : "TreatmentUseContext",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "code",
                     "value" : {
                        "name" : "FormatCode",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "FHIR age range usage context code",
                           "type" : "CodeRef"
                        } ]
                     }
                  }, {
                     "name" : "valueRange",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "low",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "value",
                                 "value" : {
                                    "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                    "value" : "18",
                                    "type" : "Literal"
                                 }
                              } ]
                           }
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "code",
                     "value" : {
                        "name" : "FormatCode",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "FHIR clinical venue usage context code",
                           "type" : "CodeRef"
                        } ]
                     }
                  }, {
                     "name" : "valueCodeableConcept",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "SNOMED outpatient code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "code",
                     "value" : {
                        "name" : "FormatCode",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "FHIR clinical focus usage context code",
                           "type" : "CodeRef"
                        } ]
                     }
                  }, {
                     "name" : "valueCodeableConcept",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Exposure to Anthrax code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "code",
                     "value" : {
                        "name" : "FormatCode",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "FHIR clinical focus usage context code",
                           "type" : "CodeRef"
                        } ]
                     }
                  }, {
                     "name" : "valueCodeableConcept",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Exposure to Bacillus anthracis (event) code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "code",
                     "value" : {
                        "name" : "FormatCode",
                        "libraryName" : "CCL",
                        "type" : "FunctionRef",
                        "operand" : [ {
                           "name" : "FHIR clinical focus usage context code",
                           "type" : "CodeRef"
                        } ]
                     }
                  }, {
                     "name" : "valueCodeableConcept",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "Asymptomatic code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "Topics",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "text",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Anthrax",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "text",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Emergency Medicine",
                        "type" : "Literal"
                     }
                  } ]
               }, {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "text",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Post-Exposure Prophylaxis",
                        "type" : "Literal"
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "Author",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Alliance to Modernize Healthcare FFRDC",
                     "type" : "Literal"
                  }
               } ]
            }
         }, {
            "name" : "Endorser",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               } ]
            }
         }, {
            "name" : "ContactInfo",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "List",
               "element" : [ {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "telecom",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "system",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "url",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "value",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "use",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "work",
                                 "type" : "Literal"
                              }
                           } ]
                        } ]
                     }
                  } ]
               } ]
            }
         }, {
            "name" : "CopyrightStatement",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "valueType" : "{urn:hl7-org:elm-types:r1}String",
               "value" : "(C) 2018 The MITRE Corporation. All Rights Reserved.",
               "type" : "Literal"
            }
         }, {
            "name" : "VaccineRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "VaccineRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/VaccineRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Vaccine_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Vaccine Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ImmunizationRecommendation",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "code",
                  "value" : {
                     "name" : "VaccineCoding",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Anthrax vaccine CVX code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "0.5mL",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "VaccineAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "doseAndRate",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "type" : "Tuple",
                                 "element" : [ {
                                    "name" : "doseQuantity",
                                    "value" : {
                                       "type" : "Tuple",
                                       "element" : [ {
                                          "name" : "value",
                                          "value" : {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}Decimal",
                                             "value" : "0.5",
                                             "type" : "Literal"
                                          }
                                       }, {
                                          "name" : "unit",
                                          "value" : {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "mL",
                                             "type" : "Literal"
                                          }
                                       }, {
                                          "name" : "system",
                                          "value" : {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "http://unitsofmeasure.org",
                                             "type" : "Literal"
                                          }
                                       }, {
                                          "name" : "code",
                                          "value" : {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "mL",
                                             "type" : "Literal"
                                          }
                                       } ]
                                    }
                                 } ]
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Subcutaneous route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "VaccineActionTitle",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Case",
               "caseItem" : [ {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "1",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Vaccination - 1st dose",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "2",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Vaccination - 2nd dose",
                     "type" : "Literal"
                  }
               }, {
                  "when" : {
                     "type" : "Equal",
                     "operand" : [ {
                        "name" : "NextVaccineDoseNumber",
                        "type" : "ExpressionRef"
                     }, {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                        "value" : "3",
                        "type" : "Literal"
                     } ]
                  },
                  "then" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Vaccination - 3rd dose",
                     "type" : "Literal"
                  }
               } ],
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "VaccineAction",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "type" : "And",
                           "operand" : [ {
                              "name" : "RecentlyExposedToAnthrax",
                              "type" : "ExpressionRef"
                           }, {
                              "name" : "Is18orOlder",
                              "type" : "ExpressionRef"
                           } ]
                        }, {
                           "name" : "Asymptomatic",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "ReadyForNextVaccineDose",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "title",
                     "value" : {
                        "name" : "VaccineActionTitle",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "type",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "FHIR ActionType create code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "definitionCanonical",
                     "value" : {
                        "type" : "Concatenate",
                        "operand" : [ {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "#",
                           "type" : "Literal"
                        }, {
                           "path" : "id",
                           "type" : "Property",
                           "source" : {
                              "name" : "VaccineRequest",
                              "type" : "ExpressionRef"
                           }
                        } ]
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "title",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "type",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "definitionCanonical",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "PregnancyPriorityCiprofloxacin",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "FIRST CHOICE: ",
                  "type" : "Literal"
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "AntimicrobialPregnancyInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "text",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Pregnant women at risk for inhalation anthrax should receive antimicrobial drug therapy regardless of pregnancy trimester.",
                        "type" : "Literal"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "text",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "CiprofloxacinAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "ToList",
                  "operand" : {
                     "name" : "AntimicrobialPregnancyInstructions",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "CONTRAINDICATIONS: Diagnosis of myasthenia gravis and taking tizanidine.",
                           "type" : "Literal"
                        }
                     } ]
                  }, {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "CAUTIONS: If patient is taking  blood thinners, oral antidiabetic drugs, seizure drugs, theophylline, drugs that prolong QT interval, duloxetine (Cymbalta), zolpidem (Ambien), clozapine or any other drug that may interact and cause serious side effects, consider another antibiotic regimen.",
                           "type" : "Literal"
                        }
                     } ]
                  }, {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Provide patient education on medications.",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "CiprofloxacinRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "CiprofloxacinRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/CiprofloxacinRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Ciprofloxacin_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Ciprofloxacin Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MedicationRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Ciprofloxacin Rx code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "name" : "PregnancyPriorityCiprofloxacin",
                              "type" : "ExpressionRef"
                           }, {
                              "path" : "display",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Ciprofloxacin Rx code",
                                 "type" : "CodeRef"
                              }
                           } ]
                        }
                     } ]
                  }
               }, {
                  "name" : "quantity",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "120",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "system",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/v3/orderableDrugForm",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "code",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ORTAB",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "One every 12 hours for 60 days",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "CiprofloxacinAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "patientInstruction",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Take with full glass of water",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "timing",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "repeat",
                                 "value" : {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "frequency",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "period",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "12",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "periodUnit",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "h",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Oral route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "method",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Swallow dosing instruction code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "PregnancyPriorityDoxycycline",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "SECOND CHOICE: ",
                  "type" : "Literal"
               },
               "else" : {
                  "valueType" : "{urn:hl7-org:elm-types:r1}String",
                  "value" : "",
                  "type" : "Literal"
               }
            }
         }, {
            "name" : "DoxycyclineAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Union",
               "operand" : [ {
                  "type" : "ToList",
                  "operand" : {
                     "name" : "AntimicrobialPregnancyInstructions",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "CAUTIONS: If patient is taking  blood thinners, oral antidiabetic drugs, seizure drugs, or any other drug that may interact and cause serious side effects, consider another antibiotic regimen.",
                           "type" : "Literal"
                        }
                     } ]
                  }, {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Provide patient education on medications.",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               } ]
            }
         }, {
            "name" : "DoxycyclineRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "DoxycyclineRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/DoxycyclineRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Doxycycline_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Doxycycline Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MedicationRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Doxycycline Rx code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "type" : "Concatenate",
                           "operand" : [ {
                              "name" : "PregnancyPriorityDoxycycline",
                              "type" : "ExpressionRef"
                           }, {
                              "path" : "display",
                              "type" : "Property",
                              "source" : {
                                 "name" : "Doxycycline Rx code",
                                 "type" : "CodeRef"
                              }
                           } ]
                        }
                     } ]
                  }
               }, {
                  "name" : "quantity",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "120",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "system",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/v3/orderableDrugForm",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "code",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ORTAB",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "One every 12 hours for 60 days",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "DoxycyclineAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "patientInstruction",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Take with full glass of water",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "timing",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "repeat",
                                 "value" : {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "frequency",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "period",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "12",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "periodUnit",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "h",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Oral route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "method",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Swallow dosing instruction code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "LevofloxacinAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "List",
                  "element" : [ {
                     "name" : "AntimicrobialPregnancyInstructions",
                     "type" : "ExpressionRef"
                  } ]
               },
               "else" : {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "none",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "LevofloxacinRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "LevofloxacinRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/LevofloxacinRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Levofloxacin_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Levofloxacin Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MedicationRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Levofloxacin Rx code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "path" : "display",
                           "type" : "Property",
                           "source" : {
                              "name" : "Levofloxacin Rx code",
                              "type" : "CodeRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "name" : "quantity",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "system",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/v3/orderableDrugForm",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "code",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ORTAB",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "One every day for 60 days",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "LevofloxacinAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "timing",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "repeat",
                                 "value" : {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "frequency",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "period",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "periodUnit",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "d",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Oral route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "method",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Swallow dosing instruction code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "MoxifloxacinAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "List",
                  "element" : [ {
                     "name" : "AntimicrobialPregnancyInstructions",
                     "type" : "ExpressionRef"
                  } ]
               },
               "else" : {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "none",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "MoxifloxacinRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MoxifloxacinRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/MoxifloxacinRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Moxifloxacin_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Moxifloxacin Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MedicationRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Moxifloxacin Rx code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "path" : "display",
                           "type" : "Property",
                           "source" : {
                              "name" : "Moxifloxacin Rx code",
                              "type" : "CodeRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "name" : "quantity",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "60",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "system",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/v3/orderableDrugForm",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "code",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ORTAB",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "One every day for 60 days",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "MoxifloxacinAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "timing",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "repeat",
                                 "value" : {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "frequency",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "period",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "1",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "periodUnit",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "d",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Oral route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "method",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Swallow dosing instruction code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "ClindamycinAdditionalInstructions",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "IsPregnant",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "List",
                  "element" : [ {
                     "name" : "AntimicrobialPregnancyInstructions",
                     "type" : "ExpressionRef"
                  } ]
               },
               "else" : {
                  "type" : "List",
                  "element" : [ {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "text",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "none",
                           "type" : "Literal"
                        }
                     } ]
                  } ]
               }
            }
         }, {
            "name" : "ClindamycinRequest",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "Tuple",
               "element" : [ {
                  "name" : "resourceType",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ActivityDefinition",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "id",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "ClindamycinRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "url",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "identifier",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "value",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/ClindamycinRequest",
                              "type" : "Literal"
                           }
                        } ]
                     } ]
                  }
               }, {
                  "name" : "version",
                  "value" : {
                     "name" : "CqlVersion",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "name",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults_Clindamycin_Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "title",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults: Clindamycin Request",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "status",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "draft",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "experimental",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "value" : "true",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "date",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "publisher",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "Centers for Disease Control and Prevention",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "description",
                  "value" : {
                     "name" : "ActivityDefinitionDescription",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "purpose",
                  "value" : {
                     "name" : "ActivityDefinitionPurpose",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "usage",
                  "value" : {
                     "name" : "ActivityDefinitionUsage",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "approvalDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "lastReviewDate",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "2019-06-07",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "effectivePeriod",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "start",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "2019-06-07",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "useContext",
                  "value" : {
                     "name" : "TreatmentUseContext",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "topic",
                  "value" : {
                     "name" : "Topics",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "author",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Author",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "endorser",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "Endorser",
                        "type" : "ExpressionRef"
                     } ]
                  }
               }, {
                  "name" : "contact",
                  "value" : {
                     "name" : "ContactInfo",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "copyright",
                  "value" : {
                     "name" : "CopyrightStatement",
                     "type" : "ExpressionRef"
                  }
               }, {
                  "name" : "kind",
                  "value" : {
                     "valueType" : "{urn:hl7-org:elm-types:r1}String",
                     "value" : "MedicationRequest",
                     "type" : "Literal"
                  }
               }, {
                  "name" : "productCodeableConcept",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "coding",
                        "value" : {
                           "type" : "List",
                           "element" : [ {
                              "name" : "FormatCode",
                              "libraryName" : "CCL",
                              "type" : "FunctionRef",
                              "operand" : [ {
                                 "name" : "Clindamycin Rx code",
                                 "type" : "CodeRef"
                              } ]
                           } ]
                        }
                     }, {
                        "name" : "text",
                        "value" : {
                           "path" : "display",
                           "type" : "Property",
                           "source" : {
                              "name" : "Clindamycin Rx code",
                              "type" : "CodeRef"
                           }
                        }
                     } ]
                  }
               }, {
                  "name" : "quantity",
                  "value" : {
                     "type" : "Tuple",
                     "element" : [ {
                        "name" : "value",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                           "value" : "360",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "system",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "http://hl7.org/fhir/v3/orderableDrugForm",
                           "type" : "Literal"
                        }
                     }, {
                        "name" : "code",
                        "value" : {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "ORTAB",
                           "type" : "Literal"
                        }
                     } ]
                  }
               }, {
                  "name" : "dosage",
                  "value" : {
                     "type" : "List",
                     "element" : [ {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "text",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "Two tablets every 8 hours for 60 days",
                              "type" : "Literal"
                           }
                        }, {
                           "name" : "additionalInstruction",
                           "value" : {
                              "name" : "ClindamycinAdditionalInstructions",
                              "type" : "ExpressionRef"
                           }
                        }, {
                           "name" : "timing",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "repeat",
                                 "value" : {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "frequency",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "2",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "period",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}Integer",
                                          "value" : "8",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "periodUnit",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "h",
                                          "type" : "Literal"
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "route",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Oral route code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        }, {
                           "name" : "method",
                           "value" : {
                              "type" : "Tuple",
                              "element" : [ {
                                 "name" : "coding",
                                 "value" : {
                                    "type" : "List",
                                    "element" : [ {
                                       "name" : "FormatCode",
                                       "libraryName" : "CCL",
                                       "type" : "FunctionRef",
                                       "operand" : [ {
                                          "name" : "Swallow dosing instruction code",
                                          "type" : "CodeRef"
                                       } ]
                                    } ]
                                 }
                              } ]
                           }
                        } ]
                     } ]
                  }
               } ]
            }
         }, {
            "name" : "AntimicrobialAction",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "And",
                     "operand" : [ {
                        "type" : "And",
                        "operand" : [ {
                           "name" : "RecentlyExposedToAnthrax",
                           "type" : "ExpressionRef"
                        }, {
                           "name" : "Is18orOlder",
                           "type" : "ExpressionRef"
                        } ]
                     }, {
                        "name" : "Asymptomatic",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "title",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Antimicrobial medications for anthrax post-exposure prophylaxis",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "groupingBehavior",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "visual-group",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "selectionBehavior",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "at-most-one",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "action",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "title",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "First line antimicrobial medications for anthrax post-exposure prophylaxis",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "groupingBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "visual-group",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "selectionBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "at-most-one",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "action",
                              "value" : {
                                 "type" : "List",
                                 "element" : [ {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "coding",
                                             "value" : {
                                                "type" : "List",
                                                "element" : [ {
                                                   "name" : "FormatCode",
                                                   "libraryName" : "CCL",
                                                   "type" : "FunctionRef",
                                                   "operand" : [ {
                                                      "name" : "FHIR ActionType create code",
                                                      "type" : "CodeRef"
                                                   } ]
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "definitionCanonical",
                                       "value" : {
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "#",
                                             "type" : "Literal"
                                          }, {
                                             "path" : "id",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "CiprofloxacinRequest",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "coding",
                                             "value" : {
                                                "type" : "List",
                                                "element" : [ {
                                                   "name" : "FormatCode",
                                                   "libraryName" : "CCL",
                                                   "type" : "FunctionRef",
                                                   "operand" : [ {
                                                      "name" : "FHIR ActionType create code",
                                                      "type" : "CodeRef"
                                                   } ]
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "definitionCanonical",
                                       "value" : {
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "#",
                                             "type" : "Literal"
                                          }, {
                                             "path" : "id",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "DoxycyclineRequest",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }
                                    } ]
                                 } ]
                              }
                           } ]
                        }, {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "title",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Second line antimicrobial medications for anthrax post-exposure prophylaxis",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "groupingBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "visual-group",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "selectionBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "at-most-one",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "action",
                              "value" : {
                                 "type" : "List",
                                 "element" : [ {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "coding",
                                             "value" : {
                                                "type" : "List",
                                                "element" : [ {
                                                   "name" : "FormatCode",
                                                   "libraryName" : "CCL",
                                                   "type" : "FunctionRef",
                                                   "operand" : [ {
                                                      "name" : "FHIR ActionType create code",
                                                      "type" : "CodeRef"
                                                   } ]
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "definitionCanonical",
                                       "value" : {
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "#",
                                             "type" : "Literal"
                                          }, {
                                             "path" : "id",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "LevofloxacinRequest",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "coding",
                                             "value" : {
                                                "type" : "List",
                                                "element" : [ {
                                                   "name" : "FormatCode",
                                                   "libraryName" : "CCL",
                                                   "type" : "FunctionRef",
                                                   "operand" : [ {
                                                      "name" : "FHIR ActionType create code",
                                                      "type" : "CodeRef"
                                                   } ]
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "definitionCanonical",
                                       "value" : {
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "#",
                                             "type" : "Literal"
                                          }, {
                                             "path" : "id",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "MoxifloxacinRequest",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "coding",
                                             "value" : {
                                                "type" : "List",
                                                "element" : [ {
                                                   "name" : "FormatCode",
                                                   "libraryName" : "CCL",
                                                   "type" : "FunctionRef",
                                                   "operand" : [ {
                                                      "name" : "FHIR ActionType create code",
                                                      "type" : "CodeRef"
                                                   } ]
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "definitionCanonical",
                                       "value" : {
                                          "type" : "Concatenate",
                                          "operand" : [ {
                                             "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                             "value" : "#",
                                             "type" : "Literal"
                                          }, {
                                             "path" : "id",
                                             "type" : "Property",
                                             "source" : {
                                                "name" : "ClindamycinRequest",
                                                "type" : "ExpressionRef"
                                             }
                                          } ]
                                       }
                                    } ]
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "title",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "groupingBehavior",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "selectionBehavior",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "action",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "title",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "groupingBehavior",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "selectionBehavior",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "action",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "type" : "TupleTypeSpecifier",
                                       "element" : [ {
                                          "name" : "type",
                                          "type" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "coding",
                                                "type" : {
                                                   "type" : "ListTypeSpecifier",
                                                   "elementType" : {
                                                      "type" : "TupleTypeSpecifier",
                                                      "element" : [ {
                                                         "name" : "system",
                                                         "type" : {
                                                            "name" : "{urn:hl7-org:elm-types:r1}String",
                                                            "type" : "NamedTypeSpecifier"
                                                         }
                                                      }, {
                                                         "name" : "code",
                                                         "type" : {
                                                            "name" : "{urn:hl7-org:elm-types:r1}String",
                                                            "type" : "NamedTypeSpecifier"
                                                         }
                                                      }, {
                                                         "name" : "display",
                                                         "type" : {
                                                            "name" : "{urn:hl7-org:elm-types:r1}String",
                                                            "type" : "NamedTypeSpecifier"
                                                         }
                                                      } ]
                                                   }
                                                }
                                             } ]
                                          }
                                       }, {
                                          "name" : "definitionCanonical",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       } ]
                                    }
                                 }
                              } ]
                           }
                        }
                     } ]
                  }
               }
            }
         }, {
            "name" : "ActionList",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "VaccineAction",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "AntimicrobialAction",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "AntimicrobialAction",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "VaccineAction",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "else" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "VaccineAction",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "AntimicrobialAction",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "AntimicrobialAction",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "title",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "groupingBehavior",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "selectionBehavior",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "action",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "title",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "groupingBehavior",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "selectionBehavior",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "action",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "type",
                                                "type" : {
                                                   "type" : "TupleTypeSpecifier",
                                                   "element" : [ {
                                                      "name" : "coding",
                                                      "type" : {
                                                         "type" : "ListTypeSpecifier",
                                                         "elementType" : {
                                                            "type" : "TupleTypeSpecifier",
                                                            "element" : [ {
                                                               "name" : "system",
                                                               "type" : {
                                                                  "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                  "type" : "NamedTypeSpecifier"
                                                               }
                                                            }, {
                                                               "name" : "code",
                                                               "type" : {
                                                                  "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                  "type" : "NamedTypeSpecifier"
                                                               }
                                                            }, {
                                                               "name" : "display",
                                                               "type" : {
                                                                  "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                  "type" : "NamedTypeSpecifier"
                                                               }
                                                            } ]
                                                         }
                                                      }
                                                   } ]
                                                }
                                             }, {
                                                "name" : "definitionCanonical",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "ContainedResourcesList",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "type" : "Not",
                     "operand" : {
                        "type" : "IsNull",
                        "operand" : {
                           "name" : "VaccineAction",
                           "type" : "ExpressionRef"
                        }
                     }
                  }
               },
               "then" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "AntimicrobialAction",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "CiprofloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "DoxycyclineRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "LevofloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "MoxifloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ClindamycinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "VaccineRequest",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "else" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "VaccineRequest",
                        "type" : "ExpressionRef"
                     } ]
                  }
               },
               "else" : {
                  "type" : "If",
                  "condition" : {
                     "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                     "type" : "As",
                     "operand" : {
                        "type" : "Not",
                        "operand" : {
                           "type" : "IsNull",
                           "operand" : {
                              "name" : "AntimicrobialAction",
                              "type" : "ExpressionRef"
                           }
                        }
                     }
                  },
                  "then" : {
                     "type" : "List",
                     "element" : [ {
                        "name" : "CiprofloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "DoxycyclineRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "LevofloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "MoxifloxacinRequest",
                        "type" : "ExpressionRef"
                     }, {
                        "name" : "ClindamycinRequest",
                        "type" : "ExpressionRef"
                     } ]
                  },
                  "else" : {
                     "type" : "As",
                     "operand" : {
                        "type" : "Null"
                     },
                     "asTypeSpecifier" : {
                        "type" : "ListTypeSpecifier",
                        "elementType" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "resourceType",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "id",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "url",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "identifier",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "value",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "version",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "name",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "title",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "status",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "experimental",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}Boolean",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "date",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "publisher",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "description",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "purpose",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "usage",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "approvalDate",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "lastReviewDate",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "effectivePeriod",
                              "type" : {
                                 "type" : "TupleTypeSpecifier",
                                 "element" : [ {
                                    "name" : "start",
                                    "type" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}String",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 } ]
                              }
                           }, {
                              "name" : "useContext",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "code",
                                       "type" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "system",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          }, {
                                             "name" : "code",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          }, {
                                             "name" : "display",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "valueCodeableConcept",
                                       "type" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "coding",
                                             "type" : {
                                                "type" : "ListTypeSpecifier",
                                                "elementType" : {
                                                   "type" : "TupleTypeSpecifier",
                                                   "element" : [ {
                                                      "name" : "system",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "code",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "display",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   } ]
                                                }
                                             }
                                          } ]
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "topic",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "text",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "author",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "name",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "endorser",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "name",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "contact",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "telecom",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "system",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "value",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "use",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    } ]
                                 }
                              }
                           }, {
                              "name" : "copyright",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "kind",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           }, {
                              "name" : "productCodeableConcept",
                              "type" : {
                                 "type" : "TupleTypeSpecifier",
                                 "element" : [ {
                                    "name" : "coding",
                                    "type" : {
                                       "type" : "ListTypeSpecifier",
                                       "elementType" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "system",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          }, {
                                             "name" : "code",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          }, {
                                             "name" : "display",
                                             "type" : {
                                                "name" : "{urn:hl7-org:elm-types:r1}String",
                                                "type" : "NamedTypeSpecifier"
                                             }
                                          } ]
                                       }
                                    }
                                 }, {
                                    "name" : "text",
                                    "type" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}String",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 } ]
                              }
                           }, {
                              "name" : "quantity",
                              "type" : {
                                 "type" : "TupleTypeSpecifier",
                                 "element" : [ {
                                    "name" : "value",
                                    "type" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}Integer",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 }, {
                                    "name" : "system",
                                    "type" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}String",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 }, {
                                    "name" : "code",
                                    "type" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}String",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 } ]
                              }
                           }, {
                              "name" : "dosage",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "text",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "additionalInstruction",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "text",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    }, {
                                       "name" : "timing",
                                       "type" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "repeat",
                                             "type" : {
                                                "type" : "TupleTypeSpecifier",
                                                "element" : [ {
                                                   "name" : "frequency",
                                                   "type" : {
                                                      "name" : "{urn:hl7-org:elm-types:r1}Integer",
                                                      "type" : "NamedTypeSpecifier"
                                                   }
                                                }, {
                                                   "name" : "period",
                                                   "type" : {
                                                      "name" : "{urn:hl7-org:elm-types:r1}Integer",
                                                      "type" : "NamedTypeSpecifier"
                                                   }
                                                }, {
                                                   "name" : "periodUnit",
                                                   "type" : {
                                                      "name" : "{urn:hl7-org:elm-types:r1}String",
                                                      "type" : "NamedTypeSpecifier"
                                                   }
                                                } ]
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "route",
                                       "type" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "coding",
                                             "type" : {
                                                "type" : "ListTypeSpecifier",
                                                "elementType" : {
                                                   "type" : "TupleTypeSpecifier",
                                                   "element" : [ {
                                                      "name" : "system",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "code",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "display",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   } ]
                                                }
                                             }
                                          } ]
                                       }
                                    }, {
                                       "name" : "method",
                                       "type" : {
                                          "type" : "TupleTypeSpecifier",
                                          "element" : [ {
                                             "name" : "coding",
                                             "type" : {
                                                "type" : "ListTypeSpecifier",
                                                "elementType" : {
                                                   "type" : "TupleTypeSpecifier",
                                                   "element" : [ {
                                                      "name" : "system",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "code",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   }, {
                                                      "name" : "display",
                                                      "type" : {
                                                         "name" : "{urn:hl7-org:elm-types:r1}String",
                                                         "type" : "NamedTypeSpecifier"
                                                      }
                                                   } ]
                                                }
                                             }
                                          } ]
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }
                  }
               }
            }
         }, {
            "name" : "GenerateOrderSet",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "And",
               "operand" : [ {
                  "type" : "And",
                  "operand" : [ {
                     "name" : "RecentlyExposedToAnthrax",
                     "type" : "ExpressionRef"
                  }, {
                     "name" : "Is18orOlder",
                     "type" : "ExpressionRef"
                  } ]
               }, {
                  "name" : "Asymptomatic",
                  "type" : "ExpressionRef"
               } ]
            }
         }, {
            "name" : "OrderSet",
            "context" : "Patient",
            "accessLevel" : "Public",
            "expression" : {
               "type" : "If",
               "condition" : {
                  "asType" : "{urn:hl7-org:elm-types:r1}Boolean",
                  "type" : "As",
                  "operand" : {
                     "name" : "GenerateOrderSet",
                     "type" : "ExpressionRef"
                  }
               },
               "then" : {
                  "type" : "Tuple",
                  "element" : [ {
                     "name" : "resourceType",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "PlanDefinition",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "url",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "https://cds.ahrq.gov/cdsconnect/artifact/anthrax-post-exposure-prophylaxis",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "identifier",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "value",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Anthrax_Post_Exposure_Prophylaxis_FHIRv400_CQL_v110/OrderSet",
                                 "type" : "Literal"
                              }
                           } ]
                        } ]
                     }
                  }, {
                     "name" : "version",
                     "value" : {
                        "name" : "CqlVersion",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "name",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Anthrax_Post_Exposure_Prophylaxis_Adults",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "title",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Anthrax Post Exposure Prophylaxis (PEP) for Adults",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "status",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "draft",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "experimental",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}Boolean",
                        "value" : "true",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "type",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "coding",
                           "value" : {
                              "type" : "List",
                              "element" : [ {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "FHIR PlanDefinition eca-rule code",
                                    "type" : "CodeRef"
                                 } ]
                              }, {
                                 "name" : "FormatCode",
                                 "libraryName" : "CCL",
                                 "type" : "FunctionRef",
                                 "operand" : [ {
                                    "name" : "FHIR PlanDefinition order-set code",
                                    "type" : "CodeRef"
                                 } ]
                              } ]
                           }
                        } ]
                     }
                  }, {
                     "name" : "date",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "2019-06-07",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "publisher",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Centers for Disease Control and Prevention",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "description",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Provides information for treating patients greater than or equal to 18 years old exposed to anthrax within the past 60 days, who do not have anthrax. It is divided into two parts: \\n- Part #1: For patients that may be symptomatic to flag the need to conduct a full diagnostic evaluation to rule out anthrax before proceeding with post-exposure prophylaxis (PEP) \\n- Part #2: For patients  who are  asymptomatic (not displaying signs and symptoms of anthrax), it provides recommended PEP regimen",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "purpose",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Provides clinicians with information for quickly assessing individuals exposed to anthrax unrelated to occupational exposure, for example in bioterrorism events, and provides the recommended post-exposure prophylaxis (PEP) regimen for asymptomatic patients. Includes immediate treatment with antimicrobials and vaccine and follow-up administration of subsequent vaccines to complete the recommended 3-dose vaccination series.",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "usage",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "Intended for use by clinicians caring for individuals ≥18 years of age in an outpatient setting.",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "approvalDate",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "2019-06-07",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "lastReviewDate",
                     "value" : {
                        "valueType" : "{urn:hl7-org:elm-types:r1}String",
                        "value" : "2019-06-07",
                        "type" : "Literal"
                     }
                  }, {
                     "name" : "effectivePeriod",
                     "value" : {
                        "type" : "Tuple",
                        "element" : [ {
                           "name" : "start",
                           "value" : {
                              "valueType" : "{urn:hl7-org:elm-types:r1}String",
                              "value" : "2019-06-07",
                              "type" : "Literal"
                           }
                        } ]
                     }
                  }, {
                     "name" : "useContext",
                     "value" : {
                        "name" : "TreatmentUseContext",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "jurisdiction",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "coding",
                              "value" : {
                                 "type" : "List",
                                 "element" : [ {
                                    "name" : "FormatCode",
                                    "libraryName" : "CCL",
                                    "type" : "FunctionRef",
                                    "operand" : [ {
                                       "name" : "United States code",
                                       "type" : "CodeRef"
                                    } ]
                                 } ]
                              }
                           } ]
                        } ]
                     }
                  }, {
                     "name" : "topic",
                     "value" : {
                        "name" : "Topics",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "author",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "name" : "Author",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  }, {
                     "name" : "endorser",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "name" : "Endorser",
                           "type" : "ExpressionRef"
                        } ]
                     }
                  }, {
                     "name" : "contact",
                     "value" : {
                        "name" : "ContactInfo",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "copyright",
                     "value" : {
                        "name" : "CopyrightStatement",
                        "type" : "ExpressionRef"
                     }
                  }, {
                     "name" : "library",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "valueType" : "{urn:hl7-org:elm-types:r1}String",
                           "value" : "Library/Anthrax_Post_Exposure_Prophylaxis_FHIRv400_Library",
                           "type" : "Literal"
                        } ]
                     }
                  }, {
                     "name" : "action",
                     "value" : {
                        "type" : "List",
                        "element" : [ {
                           "type" : "Tuple",
                           "element" : [ {
                              "name" : "title",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "Anthrax Post Exposure Prophylaxis",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "groupingBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "logical-group",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "selectionBehavior",
                              "value" : {
                                 "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                 "value" : "any",
                                 "type" : "Literal"
                              }
                           }, {
                              "name" : "trigger",
                              "value" : {
                                 "type" : "List",
                                 "element" : [ {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "data-added",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "data",
                                       "value" : {
                                          "type" : "List",
                                          "element" : [ {
                                             "type" : "Tuple",
                                             "element" : [ {
                                                "name" : "type",
                                                "value" : {
                                                   "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                   "value" : "Condition",
                                                   "type" : "Literal"
                                                }
                                             }, {
                                                "name" : "codeFilter",
                                                "value" : {
                                                   "type" : "List",
                                                   "element" : [ {
                                                      "type" : "Tuple",
                                                      "element" : [ {
                                                         "name" : "path",
                                                         "value" : {
                                                            "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                            "value" : "code",
                                                            "type" : "Literal"
                                                         }
                                                      }, {
                                                         "name" : "code",
                                                         "value" : {
                                                            "type" : "List",
                                                            "element" : [ {
                                                               "name" : "FormatCode",
                                                               "libraryName" : "CCL",
                                                               "type" : "FunctionRef",
                                                               "operand" : [ {
                                                                  "name" : "Exposure to Anthrax code",
                                                                  "type" : "CodeRef"
                                                               } ]
                                                            }, {
                                                               "name" : "FormatCode",
                                                               "libraryName" : "CCL",
                                                               "type" : "FunctionRef",
                                                               "operand" : [ {
                                                                  "name" : "Exposure to Bacillus anthracis (event) code",
                                                                  "type" : "CodeRef"
                                                               } ]
                                                            } ]
                                                         }
                                                      } ]
                                                   } ]
                                                }
                                             } ]
                                          } ]
                                       }
                                    } ]
                                 }, {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "type",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "data-added",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "data",
                                       "value" : {
                                          "type" : "List",
                                          "element" : [ {
                                             "type" : "Tuple",
                                             "element" : [ {
                                                "name" : "type",
                                                "value" : {
                                                   "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                   "value" : "Observation",
                                                   "type" : "Literal"
                                                }
                                             }, {
                                                "name" : "codeFilter",
                                                "value" : {
                                                   "type" : "List",
                                                   "element" : [ {
                                                      "type" : "Tuple",
                                                      "element" : [ {
                                                         "name" : "path",
                                                         "value" : {
                                                            "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                            "value" : "code",
                                                            "type" : "Literal"
                                                         }
                                                      }, {
                                                         "name" : "code",
                                                         "value" : {
                                                            "type" : "List",
                                                            "element" : [ {
                                                               "name" : "FormatCode",
                                                               "libraryName" : "CCL",
                                                               "type" : "FunctionRef",
                                                               "operand" : [ {
                                                                  "name" : "Exposure to Anthrax code",
                                                                  "type" : "CodeRef"
                                                               } ]
                                                            }, {
                                                               "name" : "FormatCode",
                                                               "libraryName" : "CCL",
                                                               "type" : "FunctionRef",
                                                               "operand" : [ {
                                                                  "name" : "Exposure to Bacillus anthracis (event) code",
                                                                  "type" : "CodeRef"
                                                               } ]
                                                            }, {
                                                               "name" : "FormatCode",
                                                               "libraryName" : "CCL",
                                                               "type" : "FunctionRef",
                                                               "operand" : [ {
                                                                  "name" : "Asymptomatic code",
                                                                  "type" : "CodeRef"
                                                               } ]
                                                            } ]
                                                         }
                                                      } ]
                                                   } ]
                                                }
                                             } ]
                                          } ]
                                       }
                                    } ]
                                 } ]
                              }
                           }, {
                              "name" : "condition",
                              "value" : {
                                 "type" : "List",
                                 "element" : [ {
                                    "type" : "Tuple",
                                    "element" : [ {
                                       "name" : "kind",
                                       "value" : {
                                          "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                          "value" : "applicability",
                                          "type" : "Literal"
                                       }
                                    }, {
                                       "name" : "expression",
                                       "value" : {
                                          "type" : "Tuple",
                                          "element" : [ {
                                             "name" : "language",
                                             "value" : {
                                                "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                "value" : "text/cql",
                                                "type" : "Literal"
                                             }
                                          }, {
                                             "name" : "expression",
                                             "value" : {
                                                "valueType" : "{urn:hl7-org:elm-types:r1}String",
                                                "value" : "GenerateOrderSet",
                                                "type" : "Literal"
                                             }
                                          } ]
                                       }
                                    } ]
                                 } ]
                              }
                           }, {
                              "name" : "action",
                              "value" : {
                                 "name" : "ActionList",
                                 "type" : "ExpressionRef"
                              }
                           } ]
                        } ]
                     }
                  }, {
                     "name" : "contained",
                     "value" : {
                        "name" : "ContainedResourcesList",
                        "type" : "ExpressionRef"
                     }
                  } ]
               },
               "else" : {
                  "type" : "As",
                  "operand" : {
                     "type" : "Null"
                  },
                  "asTypeSpecifier" : {
                     "type" : "TupleTypeSpecifier",
                     "element" : [ {
                        "name" : "resourceType",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "url",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "identifier",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "value",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "version",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "name",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "title",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "status",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "experimental",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}Boolean",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "type",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "coding",
                              "type" : {
                                 "type" : "ListTypeSpecifier",
                                 "elementType" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }
                           } ]
                        }
                     }, {
                        "name" : "date",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "publisher",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "description",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "purpose",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "usage",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "approvalDate",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "lastReviewDate",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "effectivePeriod",
                        "type" : {
                           "type" : "TupleTypeSpecifier",
                           "element" : [ {
                              "name" : "start",
                              "type" : {
                                 "name" : "{urn:hl7-org:elm-types:r1}String",
                                 "type" : "NamedTypeSpecifier"
                              }
                           } ]
                        }
                     }, {
                        "name" : "useContext",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "code",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "system",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "code",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    }, {
                                       "name" : "display",
                                       "type" : {
                                          "name" : "{urn:hl7-org:elm-types:r1}String",
                                          "type" : "NamedTypeSpecifier"
                                       }
                                    } ]
                                 }
                              }, {
                                 "name" : "valueCodeableConcept",
                                 "type" : {
                                    "type" : "TupleTypeSpecifier",
                                    "element" : [ {
                                       "name" : "coding",
                                       "type" : {
                                          "type" : "ListTypeSpecifier",
                                          "elementType" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "system",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "code",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "display",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       }
                                    } ]
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "jurisdiction",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "coding",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "type" : "TupleTypeSpecifier",
                                       "element" : [ {
                                          "name" : "system",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "code",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "display",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       } ]
                                    }
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "topic",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "text",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "author",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "name",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "endorser",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "name",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "contact",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "telecom",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "type" : "TupleTypeSpecifier",
                                       "element" : [ {
                                          "name" : "system",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "value",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "use",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       } ]
                                    }
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "copyright",
                        "type" : {
                           "name" : "{urn:hl7-org:elm-types:r1}String",
                           "type" : "NamedTypeSpecifier"
                        }
                     }, {
                        "name" : "library",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}String",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     }, {
                        "name" : "action",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "type" : "TupleTypeSpecifier",
                              "element" : [ {
                                 "name" : "title",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "groupingBehavior",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "selectionBehavior",
                                 "type" : {
                                    "name" : "{urn:hl7-org:elm-types:r1}String",
                                    "type" : "NamedTypeSpecifier"
                                 }
                              }, {
                                 "name" : "trigger",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "type" : "TupleTypeSpecifier",
                                       "element" : [ {
                                          "name" : "type",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "data",
                                          "type" : {
                                             "type" : "ListTypeSpecifier",
                                             "elementType" : {
                                                "type" : "TupleTypeSpecifier",
                                                "element" : [ {
                                                   "name" : "type",
                                                   "type" : {
                                                      "name" : "{urn:hl7-org:elm-types:r1}String",
                                                      "type" : "NamedTypeSpecifier"
                                                   }
                                                }, {
                                                   "name" : "codeFilter",
                                                   "type" : {
                                                      "type" : "ListTypeSpecifier",
                                                      "elementType" : {
                                                         "type" : "TupleTypeSpecifier",
                                                         "element" : [ {
                                                            "name" : "path",
                                                            "type" : {
                                                               "name" : "{urn:hl7-org:elm-types:r1}String",
                                                               "type" : "NamedTypeSpecifier"
                                                            }
                                                         }, {
                                                            "name" : "code",
                                                            "type" : {
                                                               "type" : "ListTypeSpecifier",
                                                               "elementType" : {
                                                                  "type" : "TupleTypeSpecifier",
                                                                  "element" : [ {
                                                                     "name" : "system",
                                                                     "type" : {
                                                                        "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                        "type" : "NamedTypeSpecifier"
                                                                     }
                                                                  }, {
                                                                     "name" : "code",
                                                                     "type" : {
                                                                        "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                        "type" : "NamedTypeSpecifier"
                                                                     }
                                                                  }, {
                                                                     "name" : "display",
                                                                     "type" : {
                                                                        "name" : "{urn:hl7-org:elm-types:r1}String",
                                                                        "type" : "NamedTypeSpecifier"
                                                                     }
                                                                  } ]
                                                               }
                                                            }
                                                         } ]
                                                      }
                                                   }
                                                } ]
                                             }
                                          }
                                       } ]
                                    }
                                 }
                              }, {
                                 "name" : "condition",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "type" : "TupleTypeSpecifier",
                                       "element" : [ {
                                          "name" : "kind",
                                          "type" : {
                                             "name" : "{urn:hl7-org:elm-types:r1}String",
                                             "type" : "NamedTypeSpecifier"
                                          }
                                       }, {
                                          "name" : "expression",
                                          "type" : {
                                             "type" : "TupleTypeSpecifier",
                                             "element" : [ {
                                                "name" : "language",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             }, {
                                                "name" : "expression",
                                                "type" : {
                                                   "name" : "{urn:hl7-org:elm-types:r1}String",
                                                   "type" : "NamedTypeSpecifier"
                                                }
                                             } ]
                                          }
                                       } ]
                                    }
                                 }
                              }, {
                                 "name" : "action",
                                 "type" : {
                                    "type" : "ListTypeSpecifier",
                                    "elementType" : {
                                       "name" : "{urn:hl7-org:elm-types:r1}Any",
                                       "type" : "NamedTypeSpecifier"
                                    }
                                 }
                              } ]
                           }
                        }
                     }, {
                        "name" : "contained",
                        "type" : {
                           "type" : "ListTypeSpecifier",
                           "elementType" : {
                              "name" : "{urn:hl7-org:elm-types:r1}Any",
                              "type" : "NamedTypeSpecifier"
                           }
                        }
                     } ]
                  }
               }
            }
         } ]
      }
   }
}

